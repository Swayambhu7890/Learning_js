<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact Us</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<main>
  <section>
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-6 border border-dark p-4 mt-5 rounded">
          <h2 class="text-center mb-4">Contact Us</h2>
          
          <form onsubmit="return validate()">
            <div class="row">

              <!--Success Alert-->
              <div id="successAlert" class="alert alert-success d-none" role="alert">
                Form Submitted successfully!
              </div>

              <!-- Name -->
              <div class="col-md-12">
                <label for="name" class="form-label">Name:</label>
                <input type="text" class="form-control mb-3" id="name" name="name" placeholder="Your name">
                <span class="text-danger" id="nameError"></span>
              </div> 
              
              <!-- Email -->
              <div class="col-md-12">
                <label for="email" class="form-label">Email:</label>
                <input type="email" class="form-control mb-3" id="email" name="email" placeholder="Your email">
                <span class="text-danger" id="emailError"></span>
              </div> 
              
              <!-- Mobile -->
              <div class="col-md-12">
                <label for="mobile" class="form-label">Mobile Number:</label>
                <input type="number" class="form-control mb-3" id="mobile" name="mobile" placeholder="Your mobile number">
                <span class="text-danger" id="mobileError"></span>
              </div> 

              <!--Password-->
              <div class="col-md-12">
                <label for="password" class="form-label">Password:</label>
                <input type="password" class="form-control" id="password" name="password" placeholder="Enter Password">
                <span class="text-danger" id="passwordError"></span>
              </div>

              <!-- Confirm Password-->
              <div class="col-md-12 mt-3">
                <label for="confirmPassword" class="form-label">Confirm Password:</label>
                <input type="password" class="form-control mb-3" id="confirmPassword" name="confirmPassword" placeholder="Confirm Password">
                <span class="text-danger" id="confirmPasswordError"></span>
              </div>
              
              <!-- Message -->
              <div class="col-md-12">
                <label for="message" class="form-label">Message:</label>
                <textarea class="form-control mb-3" id="message" name="message" rows="3" placeholder="Your message"></textarea>
                <span class="text-danger" id="messageError"></span>
              </div>
              
              <!-- Gender -->
              <div class="col-md-12 mt-2">
                <label class="form-label">Gender:</label><br>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="gender" id="male" value="male">
                  <label class="form-check-label" for="male">Male</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="gender" id="female" value="female">
                  <label class="form-check-label" for="female">Female</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="gender" id="other" value="other">
                  <label class="form-check-label" for="other">Other</label>
                </div>
                <br>
                <span class="text-danger" id="genderError"></span>
              </div>
              
              <!-- Checkbox(Terms) -->
              <div class="col-md-12 mt-3">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="agree" name="agree">
                  <label class="form-check-label" for="agree">
                    I agree to terms and conditions
                  </label>
                </div>
                <span class="text-danger" id="agreeError"></span>
              </div>
              
              <!-- Submit -->
              <div class="col-md-12 mt-3">
                <div class="d-grid">
                  <button class="btn btn-primary" type="submit">Submit</button>
                </div>
              </div>
              
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>
</main> 

<script>
function validate() {
  // Get form values
  const name = document.getElementById("name").value.trim();         //variable declaration   (.trim-->To remove whitespaces)
  const email = document.getElementById("email").value.trim();
  const mobile = document.getElementById("mobile").value.trim();
  const password = document.getElementById("password").value.trim();
  const confirmPassword = document.getElementById("confirmPassword").value.trim();
  const message = document.getElementById("message").value.trim();
  const agree = document.getElementById("agree").checked;
  const gender = document.querySelector('input[name="gender"]:checked');

  // Error spans
  const nameError = document.getElementById("nameError");
  const emailError = document.getElementById("emailError");
  const mobileError = document.getElementById("mobileError");
  const passwordError = document.getElementById("passwordError");
  const confirmPasswordError = document.getElementById("confirmPasswordError");
  const messageError = document.getElementById("messageError");
  const genderError = document.getElementById("genderError");
  const agreeError = document.getElementById("agreeError");

  // Clear previous error messages
  nameError.textContent = "";                 //when condition is true error message will go
  emailError.textContent = "";
  mobileError.textContent = "";
  passwordError.textContent = "";
  confirmPasswordError.textContent = "";
  messageError.textContent = "";
  genderError.textContent = "";
  agreeError.textContent = "";

  let isValid = true;                         //if all true(isValid is variable declared)

  // Name validation
  if (name === "") {
    nameError.textContent = "Please enter your name";
    isValid = false;
  } else if (name.length < 3) {
    nameError.textContent = "Please enter at least 3 characters";
    isValid = false;
  }

  // Email validation
  if (email === "") {
    emailError.textContent = "Please enter your email";
    isValid = false;
  } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {                 //regular expressions
    emailError.textContent = "Please enter a valid email address";
    isValid = false;
  }

  // Mobile validation
  if (mobile === "") {
    mobileError.textContent = "Please enter your mobile number";
    isValid = false;
  } else if (!/^\d{10}$/.test(mobile)) {
    mobileError.textContent = "Please enter a valid 10-digit mobile number";
    isValid = false;
  }

  // Password validation(at east 6 chars,1 number,1 special char)
  const passwordPattern = /^(?=.*[0-9])(?=.*[!@#$%^&*])[A-Za-z0-9!@#$%^&*]{6,}$/;
  if (password === "") {
    passwordError.textContent = "Please enter a password";
    isValid = false;
  } else if (!passwordPattern.test(password)) {
    passwordError.textContent = "Password must be at least 6 characters, include a number & a special character.";
    isValid = false;
  }

  // Confirm password
  if (confirmPassword === "") {
    confirmPasswordError.textContent = "Please confirm your password";
    isValid = false;
  } else if (confirmPassword !== password) {
    confirmPasswordError.textContent = "Passwords do not match";
    isValid = false;
  }

  // Message validation
  if (message === "") {
    messageError.textContent = "Please enter your message";
    isValid = false;
  }

  // Gender validation
  if (!gender) {
    genderError.textContent = "Please select your gender";
    isValid = false;
  }

  // Agree validation
  if (!agree) {
    agreeError.textContent = "You must agree to terms and conditions";
    isValid = false;
  }

  // Show success alert if valid
  if (isValid) {
    alert("Form Submitted Successfully");
  }

  return isValid;           //Prevent Form submission if valid
}
</script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

